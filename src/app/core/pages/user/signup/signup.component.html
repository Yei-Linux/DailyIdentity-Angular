<div class="card generalShadow" style="width:350px;opacity: 0.9;">
  <div class="cardHeader"></div>

  <div class="card-body">
    <form nz-form [formGroup]="signUpForm">
      <nz-steps [nzCurrent]="currentStepIndex" style="background: black;">
        <nz-step></nz-step>
        <nz-step></nz-step>
        <nz-step></nz-step>
        <nz-step></nz-step>
      </nz-steps>

      <div class="steps-content">
        <div *ngIf="currentStepIndex == 0">
          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>First Name</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid FirstName" 
            >
              <nz-input-group nzPrefixIcon="user">
                <input
                  nz-input
                  formControlName="firstName"
                  name="first-name"
                  placeholder="Type your first name"
                />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Middle Name</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid MiddleName"
            >
              <nz-input-group nzPrefixIcon="user">
                <input
                  nz-input
                  formControlName="middleName"
                  name="middle-name"
                  placeholder="Type your middle name"
                />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Last Name</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid Last Name"
            >
              <nz-input-group nzPrefixIcon="user">
                <input
                  nz-input
                  formControlName="lastName"
                  name="lastName"
                  placeholder="Type your last Name"
                />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div *ngIf="currentStepIndex == 1">
          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Age</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid Age"
            >
              <nz-input-group>
                <nz-input-number
                  nzPlaceHolder="Age"
                  formControlName="age"
                  [nzMin]="18"
                  [nzMax]="65"
                  [nzStep]="1"
                ></nz-input-number>
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Gender</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Empty Gender"
            >
              <nz-select formControlName="genderId" nzPlaceHolder="Please select your gender">
                <nz-option nzValue="1" nzLabel="Masculino"></nz-option>
                <nz-option nzValue="2" nzLabel="Femenino"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Address</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid Address"
            >
              <nz-input-group nzPrefixIcon="user">
                <input
                  nz-input
                  formControlName="address"
                  name="address"
                  placeholder="Type your address"
                />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div *ngIf="currentStepIndex == 2">
          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Phone</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid Phone"
            >
              <nz-input-group nzPrefixIcon="user">
                <input
                  nz-input
                  formControlName="phoneNumber"
                  name="phone"
                  placeholder="Type your phone number"
                />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Companies</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Empty Company"
            >
              <nz-select
                nzMode="tags"
                nzPlaceHolder="Please select your company"
                formControlName="company"
              >
                <nz-option
                  *ngFor="let companyOption of companyOptions"
                  [nzLabel]="companyOption.name"
                  [nzValue]="companyOption"
                ></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div *ngIf="currentStepIndex == 3">
          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Email</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid Email"
            >
              <nz-input-group nzPrefixIcon="user">
                <input
                  nz-input
                  formControlName="username"
                  name="email"
                  placeholder="Type your email"
                  email
                />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="mt-3" style="padding-left: 40px;">
            <div>Password</div>
            <nz-form-control
              nzHasFeedback
              [nzSm]="25"
              [nzXs]="20"
              nzErrorTip="Invalid Password"
            >
              <nz-input-group
                nzPrefixIcon="lock"
                [nzSuffix]="suffixTemplatePassword"
              >
                <input
                  [type]="passwordVisible ? 'text' : 'password'"
                  nz-input
                  placeholder="Type your password"
                  formControlName="password"
                />
              </nz-input-group>
              <ng-template #suffixTemplatePassword>
                <i
                  nz-icon
                  [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
                  (click)="passwordVisible = !passwordVisible"
                ></i>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <br />

        <div
          style="display: flex;justify-content: space-between;justify-items: flex-end;"
          class="steps-action"
        >
          <button
            nz-button
            nzType="default"
            (click)="goBack()"
            *ngIf="currentStepIndex > 0"
          >
            <span>Previous</span>
          </button>
          <button
            nz-button
            nzType="default"
            (click)="next()"
            *ngIf="currentStepIndex < 3"
          >
            <span>Next</span>
          </button>
          <button
            nz-button
            class="generalShadow login-form-button"
            (click)="onSignUp()"
            *ngIf="currentStepIndex === 3"
          >
            SignUp
          </button>
        </div>
      </div>
      <p class="text-center">
        Or <a routerLink="/user/signin">sign in now!</a>
      </p>
    </form>
  </div>
</div>
